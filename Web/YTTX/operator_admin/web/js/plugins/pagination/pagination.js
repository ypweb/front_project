/**
name:credit_admin / pagination;
 author:yipin;
 date:2016-08-13;
 version:1.0.0**/
!function($){function _6f(a){var b=$.data(a,"linkbutton").options,c=$(a).empty();c.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected"),c.removeClass("l-btn-small l-btn-medium l-btn-large").addClass("l-btn-"+b.size),b.plain&&c.addClass("l-btn-plain"),b.selected&&c.addClass(b.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected"),c.attr("group",b.group||""),c.attr("id",b.id||"");var d=$('<span class="l-btn-left"></span>').appendTo(c),e=b.iconCls;b.text&&$('<span class="l-btn-text"></span>').html(b.text).appendTo(d),e&&("pagination-first"==e?$('<span class="l-btn-icon"><&nbsp;首页</span>').addClass(e).appendTo(d):"pagination-prev"==e?$('<span class="l-btn-icon">上一页</span>').addClass(e).appendTo(d):"pagination-next"==e?$('<span class="l-btn-icon">下一页</span>').addClass(e).appendTo(d):"pagination-last"==e&&$('<span class="l-btn-icon">尾页&nbsp;></span>').addClass(e).appendTo(d),d.addClass("l-btn-icon-"+b.iconAlign)),c.unbind(".linkbutton").bind("focus.linkbutton",function(){b.disabled||$(this).addClass("l-btn-focus")}).bind("blur.linkbutton",function(){$(this).removeClass("l-btn-focus")}).bind("click.linkbutton",function(){return b.disabled||(b.toggle&&(b.selected?$(this).linkbutton("unselect"):$(this).linkbutton("select")),b.onClick.call(this)),!1}),_73(a,b.selected),_74(a,b.disabled)}function _73(a,b){var c=$.data(a,"linkbutton").options;b?(c.group&&$('a.l-btn[group="'+c.group+'"]').each(function(){var a=$(this).linkbutton("options");a.toggle&&($(this).removeClass("l-btn-selected l-btn-plain-selected"),a.selected=!1)}),$(a).addClass(c.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected"),c.selected=!0):c.group||($(a).removeClass("l-btn-selected l-btn-plain-selected"),c.selected=!1)}function _74(a,b){var c=$.data(a,"linkbutton"),d=c.options;if($(a).removeClass("l-btn-disabled l-btn-plain-disabled"),b){d.disabled=!0;var e=$(a).attr("href");e&&(c.href=e,$(a).attr("href","javascript:void(0)")),a.onclick&&(c.onclick=a.onclick,a.onclick=null),d.plain?$(a).addClass("l-btn-disabled l-btn-plain-disabled"):$(a).addClass("l-btn-disabled")}else d.disabled=!1,c.href&&$(a).attr("href",c.href),c.onclick&&(a.onclick=c.onclick)}function _81(_82){function _89(a){var b=_84.nav[a],c=$('<a href="javascript:void(0)"></a>').appendTo(tr);return c.wrap("<td></td>"),c.linkbutton({iconCls:b.iconCls,plain:!0}).unbind(".pagination").bind("click.pagination",function(){b.handler.call(_82)}),c}function _86(a,b){var c=$.inArray(b,a);return c>=0&&a.splice(c,1),a}var _83=$.data(_82,"pagination"),_84=_83.options,bb=_83.bb={},_85=$(_82).addClass("pagination").html('<div class="goto-pagination-wrap"></div><table cellspacing="0" cellpadding="0" class="easyui-pagewrap" border="0"><tr></tr></table>'),tr=_85.find("tr"),gotopage=_85.find("div").addClass("g-d-hidei"),aa=$.extend([],_84.layout);_84.showPageList||_86(aa,"list"),_84.showRefresh||_86(aa,"refresh"),"sep"==aa[0]&&aa.shift(),"sep"==aa[aa.length-1]&&aa.pop();for(var _87=0;_87<aa.length;_87++){var _88=aa[_87];if("list"==_88){var ps=$('<select class="pagination-page-list"></select>');ps.bind("change",function(){_84.pageSize=parseInt($(this).val()),_84.onChangePageSize.call(_82,_84.pageSize),_8e(_82,_84.pageNumber)});for(var i=0;i<_84.pageList.length;i++)$("<option></option>").text(_84.pageList[i]).appendTo(ps);$("<td></td>").append(ps).appendTo(tr)}else"sep"==_88?$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr):"first"==_88?bb.first=_89("first"):"prev"==_88?bb.prev=_89("prev"):"next"==_88?bb.next=_89("next"):"last"==_88?bb.last=_89("last"):"manual"==_88?(gotopage.removeClass("g-d-hidei"),bb.num=$('<input class="pagination-num" type="text" value="1" size="2">').appendTo(gotopage),bb.num.unbind(".pagination").bind("keydown.pagination",function(a){if(13==a.keyCode){var b=parseInt($(this).val())||1;return _8e(_82,b),!1}}),$("<span></span>").html(_84.beforePageText).insertBefore(bb.num),bb.after=$("<span></span>"),bb.after.insertAfter(bb.num)):"refresh"==_88?bb.refresh=_89("refresh"):"links"==_88&&$('<td class="pagination-links"></td>').appendTo(tr)}if(_84.buttons)if($('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr),$.isArray(_84.buttons))for(var i=0;i<_84.buttons.length;i++){var btn=_84.buttons[i];if("-"==btn)$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),a=$('<a href="javascript:void(0)"></a>').appendTo(td);a[0].onclick=eval(btn.handler||function(){}),a.linkbutton($.extend({},btn,{plain:!0}))}}else{var td=$("<td></td>").appendTo(tr);$(_84.buttons).appendTo(td).show()}$('<div class="pagination-info"></div>').appendTo(_85),$('<div style="clear:both;"></div>').appendTo(_85)}function _8e(a,b){var c=$.data(a,"pagination").options;_92(a,{pageNumber:b}),c.onSelectPage.call(a,c.pageNumber,c.pageSize)}function _92(a,b){var c=$.data(a,"pagination"),d=c.options,e=c.bb;$.extend(d,b||{});var f=$(a).find("select.pagination-page-list");f.length&&(f.val(d.pageSize+""),d.pageSize=parseInt(f.val()));var g=Math.ceil(d.total/d.pageSize)||1;d.pageNumber<1&&(d.pageNumber=1),d.pageNumber>g&&(d.pageNumber=g),e.num&&e.num.val(d.pageNumber),e.after&&e.after.html(d.afterPageText.replace(/{pages}/,g));var h=$(a).find("td.pagination-links");if(h.length){h.empty();var i=d.pageNumber-Math.floor(d.links/2);1>i&&(i=1);var j=i+d.links-1;j>g&&(j=g),i=j-d.links+1,1>i&&(i=1);for(var k=i;j>=k;k++){var l=$('<a class="pagination-link" href="javascript:void(0)"></a>').appendTo(h);l.linkbutton({plain:!0,text:k}),k==d.pageNumber?l.linkbutton("select"):l.unbind(".pagination").bind("click.pagination",{pageNumber:k},function(b){_8e(a,b.data.pageNumber)})}}var m=d.displayMsg;m=m.replace(/{from}/,0==d.total?0:d.pageSize*(d.pageNumber-1)+1),m=m.replace(/{to}/,Math.min(d.pageSize*d.pageNumber,d.total)),m=m.replace(/{total}/,d.total),$(a).find("div.pagination-info").html(m),e.first&&e.first.linkbutton({disabled:1==d.pageNumber}),e.prev&&e.prev.linkbutton({disabled:1==d.pageNumber}),e.next&&e.next.linkbutton({disabled:d.pageNumber==g}),e.last&&e.last.linkbutton({disabled:d.pageNumber==g}),_9b(a,d.loading)}function _9b(a,b){var c=$.data(a,"pagination"),d=c.options;d.loading=b,d.showRefresh&&c.bb.refresh&&c.bb.refresh.linkbutton({iconCls:d.loading?"pagination-loading":"pagination-load"})}$.parser={auto:!0,onComplete:function(a){},plugins:["pagination","linkbutton"],parse:function(a){for(var b=[],c=0;c<$.parser.plugins.length;c++){var d=$.parser.plugins[c],e=$(".easyui-"+d,a);e.length&&(e[d]?e[d]():b.push({name:d,jq:e}))}if(b.length&&window.easyloader){for(var f=[],c=0;c<b.length;c++)f.push(b[c].name);easyloader.load(f,function(){for(var c=0;c<b.length;c++){var d=b[c].name,e=b[c].jq;e[d]()}$.parser.onComplete.call($.parser,a)})}else $.parser.onComplete.call($.parser,a)},parseOptions:function(a,b){var c=$(a),d={},e=$.trim(c.attr("data-options"));if(e&&("{"!=e.substring(0,1)&&(e="{"+e+"}"),d=new Function("return "+e)()),b){for(var f={},g=0;g<b.length;g++){var h=b[g];if("string"==typeof h)"width"==h||"height"==h||"left"==h||"top"==h?f[h]=parseInt(a.style[h])||void 0:f[h]=c.attr(h);else for(var i in h){var j=h[i];"boolean"==j?f[i]=c.attr(i)?"true"==c.attr(i):void 0:"number"==j&&(f[i]="0"==c.attr(i)?0:parseFloat(c.attr(i))||void 0)}}$.extend(d,f)}return d}},$(function(){var a=$('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"></div>').appendTo("body");$._boxModel=100==parseInt(a.width()),a.remove(),!window.easyloader&&$.parser.auto&&$.parser.parse()}),$.fn._outerWidth=function(a){return void 0==a?this[0]==window?this.width()||document.body.clientWidth:this.outerWidth()||0:this.each(function(){$._boxModel?$(this).width(a-($(this).outerWidth()-$(this).width())):$(this).width(a)})},$.fn._outerHeight=function(a){return void 0==a?this[0]==window?this.height()||document.body.clientHeight:this.outerHeight()||0:this.each(function(){$._boxModel?$(this).height(a-($(this).outerHeight()-$(this).height())):$(this).height(a)})},$.fn._scrollLeft=function(a){return void 0==a?this.scrollLeft():this.each(function(){$(this).scrollLeft(a)})},$.fn._propAttr=$.fn.prop||$.fn.attr,$.fn._fit=function(a){a=void 0==a?!0:a;var b=this[0],c="BODY"==b.tagName?b:this.parent()[0],d=c.fcount||0;return a?b.fitted||(b.fitted=!0,c.fcount=d+1,$(c).addClass("panel-noscroll"),"BODY"==c.tagName&&$("html").addClass("panel-fit")):b.fitted&&(b.fitted=!1,c.fcount=d-1,0==c.fcount&&($(c).removeClass("panel-noscroll"),"BODY"==c.tagName&&$("html").removeClass("panel-fit"))),{width:$(c).width(),height:$(c).height()}},$.fn.linkbutton=function(a,b){return"string"==typeof a?$.fn.linkbutton.methods[a](this,b):(a=a||{},this.each(function(){var b=$.data(this,"linkbutton");b?$.extend(b.options,a):($.data(this,"linkbutton",{options:$.extend({},$.fn.linkbutton.defaults,$.fn.linkbutton.parseOptions(this),a)}),$(this).removeAttr("disabled")),_6f(this)}))},$.fn.linkbutton.methods={options:function(a){return $.data(a[0],"linkbutton").options},enable:function(a){return a.each(function(){_74(this,!1)})},disable:function(a){return a.each(function(){_74(this,!0)})},select:function(a){return a.each(function(){_73(this,!0)})},unselect:function(a){return a.each(function(){_73(this,!1)})}},$.fn.linkbutton.parseOptions=function(a){var b=$(a);return $.extend({},$.parser.parseOptions(a,["id","iconCls","iconAlign","group","size",{plain:"boolean",toggle:"boolean",selected:"boolean"}]),{disabled:b.attr("disabled")?!0:void 0,text:$.trim(b.html()),iconCls:b.attr("icon")||b.attr("iconCls")})},$.fn.linkbutton.defaults={id:null,disabled:!1,toggle:!1,selected:!1,group:null,plain:!1,text:"",iconCls:null,iconAlign:"left",size:"small",onClick:function(){}},$.fn.pagination=function(a,b){return"string"==typeof a?$.fn.pagination.methods[a](this,b):(a=a||{},this.each(function(){var b,c=$.data(this,"pagination");c?b=$.extend(c.options,a):(b=$.extend({},$.fn.pagination.defaults,$.fn.pagination.parseOptions(this),a),$.data(this,"pagination",{options:b})),_81(this),_92(this)}))},$.fn.pagination.methods={options:function(a){return $.data(a[0],"pagination").options},loading:function(a){return a.each(function(){_9b(this,!0)})},loaded:function(a){return a.each(function(){_9b(this,!1)})},refresh:function(a,b){return a.each(function(){_92(this,b)})},select:function(a,b){return a.each(function(){_8e(this,b)})}},$.fn.pagination.parseOptions=function(_a6){var t=$(_a6);return $.extend({},$.parser.parseOptions(_a6,[{total:"number",pageSize:"number",pageNumber:"number",links:"number"},{loading:"boolean",showPageList:"boolean",showRefresh:"boolean"}]),{pageList:t.attr("pageList")?eval(t.attr("pageList")):void 0})},$.fn.pagination.defaults={total:1,pageSize:10,pageNumber:1,pageList:[5,10,15,20,30,40,50],loading:!1,buttons:null,showPageList:!0,showRefresh:!0,links:10,layout:["list","sep","first","prev","sep","manual","sep","next","last","sep","refresh"],onSelectPage:function(a,b){},onBeforeRefresh:function(a,b){},onRefresh:function(a,b){},onChangePageSize:function(a){},beforePageText:"跳转至",afterPageText:"共 {pages} 页",displayMsg:"共{total}条&nbsp;&nbsp;第&nbsp;{from}&nbsp;到&nbsp;{to}&nbsp;条&nbsp;",nav:{first:{iconCls:"pagination-first",handler:function(){var a=$(this).pagination("options");a.pageNumber>1&&$(this).pagination("select",1)}},prev:{iconCls:"pagination-prev",handler:function(){var a=$(this).pagination("options");a.pageNumber>1&&$(this).pagination("select",a.pageNumber-1)}},next:{iconCls:"pagination-next",handler:function(){var a=$(this).pagination("options"),b=Math.ceil(a.total/a.pageSize);a.pageNumber<b&&$(this).pagination("select",a.pageNumber+1)}},last:{iconCls:"pagination-last",handler:function(){var a=$(this).pagination("options"),b=Math.ceil(a.total/a.pageSize);a.pageNumber<b&&$(this).pagination("select",b)}},refresh:{iconCls:"pagination-refresh",handler:function(){var a=$(this).pagination("options");0!=a.onBeforeRefresh.call(this,a.pageNumber,a.pageSize)&&($(this).pagination("select",a.pageNumber),a.onRefresh.call(this,a.pageNumber,a.pageSize))}}}}}(jQuery);