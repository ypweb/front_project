<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="css/qq.css" />
<script src="js/jquery.js" type="text/javascript"></script>
<title>移动qq面板</title>
</head>
<body>
<script type="text/javascript">
/*运行浮动QQ*/
function runqq(){
		createqqpane();/*悬挂QQ*//*创建QQ面板*/
		moveqqpanes();/*移动QQ面板 兼容性*/
		$("#hiddenqqicon").click(function(){showqq();});/*显示聊天面板*/
		$("#showqqicon").click(function(){hiddenqq();});/*隐藏聊天面板*/
	}
/*创建QQ面板*/
function createqqpane(){
	var qq="<div id='qqpane' class='qqpane'>";
		qq+="<div id='hiddenqqpane' class='hiddenqqpane'>";
		qq+="<div id='hiddenqqicon' class='hiddenqqicon' title='点击打开聊天面板'></div></div>";
		qq+="<div id='showqqpane' class='showqqpane'><div id='showqqicon' title='点击隐藏聊天面板' class='showqqicon'></div>";
		qq+="<a id='disonline' class='disonline' title='给小思留言' target='_blank' href='http://wpa.qq.com/msgrd?v=3&uin=515469677&site=qq&menu=yes'></a>";
		qq+="<a id='online' class='online' title='与小尹交谈' target='_blank' href='http://wpa.qq.com/msgrd?v=3&uin=289936343&site=qq&menu=yes'></a>";
		qq+="</div>";
	    qq+="</div>";
		document.body.innerHTML+= qq;
	}
/*移动qq面板*/
function moveqqpanes(){
	var _windowScrollTop=0;    //滚动条距离顶端距离   
    //var _windowWidth=jQuery(window).width(); //窗口宽度   
    jQuery(window).scroll(actionEvent).resize(actionEvent);  //监听滚动条事件和窗口缩放事件   
    //响应事件      
    function actionEvent(){  
        _windowScrollTop = jQuery(window).scrollTop();  //获取当前滚动条高度   
        //_windowWidth=jQuery(window).width();//获取当前窗口宽度   
        moveQQonline();//移动面板   
    }  
    //移动面板   
    function moveQQonline(){  
    //.stop()首先将上一次的未完事件停止，否则IE下会出现慢速僵死状态，然后重新设置面板的位置。            
    $("#qqpane").stop().animate({  
            //left: _windowWidth-156, 
	top: _windowScrollTop+200}, "normal");  
    }
}
/*显示qq面板*/
function showqq(){
	var parentpane=$("#qqpane");
	var sonshow=$("#showqqpane");
	var parenthidden=$("#hiddenqqpane");
	sonshow.slideToggle(1000);
	parenthidden.slideToggle(100);
	}
/*隐藏qq面板*/
function hiddenqq(){
	var parentpane=$("#qqpane");
	var sonhidden=$("#showqqpane");
	var parenthidden=$("#hiddenqqpane");
	sonhidden.slideToggle(500);
	parenthidden.slideToggle(1000);
	}
runqq();
    </script>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
</body>
</html>
