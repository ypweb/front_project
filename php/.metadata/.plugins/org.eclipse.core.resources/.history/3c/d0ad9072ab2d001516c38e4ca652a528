<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="description" content="session测试">
<meta name="keywords" content="session测试">
<title>mysql测试</title>
<style type="text/css">
		.mstheme{
			height:50px;
			line-height:50px;
			font-size:24px;
			text-align:center;
			color:#060;
		}
		.msbtn1{
		  width:1000px;
		  margin:20px auto;
		  box-sizing:border-box;
		  padding:20px;
		}
		.msbtn1 p{
			text-align:center;
			height:30px;
			line-height:30px;
			width:100%;
			float:left;
			margin:10px 0 0 0;
			cursor:pointer;
			border-width:1px;
			border-style:solid;
			border-radius:3px;
			font-size:12px;
		}
		.msbtn1 p:hover{
				text-decoration:underline;
		}
		.msbtn1 p:nth-child(1){
			border-color:#01C305;
			color:#01C305;
		}
		.msbtn1 p:nth-child(2){
			border-color:#02A8E4;
			color:#02A8E4;
		}
		.msbtn1 p:nth-child(3){
			border-color:#0388DD;
			color:#0388DD;
		}
		.msbtn1 p:nth-child(4){
			border-color:#555;
			color:#555;
		}
		.msbtn1 p:nth-child(5){
			border-color:#E46B01;
			color:#E46B01;
		}
		.msbtn1 p:nth-child(6){
			border-color:#840002;
			color:#840002;
		}
		.msbtn1 p:nth-child(7){
			border-color:#C40105;
			color:#C40105;
		}
		
    .mswrap{
	    box-sizing:border-box;
      width:1000px;
    	margin:20px auto;
    	padding:20px;
    }
    .fitem{
	    float:left;
    	width:100%;
			display:block;
			margin:5px 0 0 0;	
    }
		.fitem span{
			float:left;
			display:inline-block;
			text-align:right;
			height:100%;
			cursor:pointer;
			color:#555;
			font-size:14px;
			padding:0 20px;
			max-width:150px;
		}
		.fitem input,
		.fitem textarea{
				border-radius:3px;
				border:1px solid #666;
				box-sizing:border-box;
		}
		.fitem input:focus,
		.fitem textarea:focus{
				border:1px solid #069;
		}
		.ftip{
			height:30px;
			line-height:30px;
			text-indent:105px;
			color:#a00;
			font-size:12px;
		}
    .ftxtarea{
	    height:100px;
    }
		.ftxtarea span{
			line-height:100px;
		}
		.ftxtarea textarea{
			height:100px;
			width:800px;
			padding:5px;
			resize:none;
		}
</style>
</head>
<body>
	<p class="mstheme">MySQL测试</p><hr />
	<div class="msbtn1">
	   <p id="mysql_open">数据库连接</p>
	   <p id="mysql_db">数据库创建</p>
	   <p id="mysql_table">表创建</p>
     <p id="mysql_query">表查询</p>
     <p id="mysql_update">表更新</p>
     <p id="mysql_delete">表删除</p>
	   <p id="mysql_close">数据库关闭</p>
	</div>
  <div class="mswrap">
      <label class="fitem ftxtarea">
          <span>查询语句：</span><textarea name="Query" id="doquery" ></textarea>
      </label>
      <label class="fitem ftxtarea">
          <span>更新语句：</span><textarea name="Update" id="doupdate" ></textarea>
      </label>
      <label id="ftip" class="fitem ftip"></label>
  </div>
  <div class="msshow" id="msshow">
  
  </div>
  <?php 
      error_reporting(0);
			$sqllink;
      function ms_Open(){
				try {
				    $GLOBALS['sqllink']=mysql_connect('yp:3306','root','123456',false);
            echo 'console.log("正在连接数据库资源！")';
				} catch (Exception $e) {
				    echo 'console.log("抱歉，连接数据库资源失败！")';
				}  
      }
      
			function ms_db(){
			    if($GLOBALS['sqllink']){
			        try {
			            mysql_query('create database testyp',$GLOBALS['sqllink']);
			            echo 'console.log("恭喜，创建数据库\'testyp\'成功！")';
			        } catch (Exception $e) {
			            echo 'console.log("抱歉，创建数据库\'testyp\'失败！")';
			        }
			    }else{
			        echo 'console.log("抱歉！数据库资源未连接！")';
			        return false; 
			    }
			}
			
			function ms_Close(){
			    mysql_close($GLOBALS['sqllink']);
			    echo 'console.log("连接正在关闭！")';
			}
  ?>
  <script>
			(function(){
				
				
				var opendb=document.getElementById('mysql_open'),
						db=document.getElementById('mysql_db'),
						table=document.getElementById('mysql_table'),
						query=document.getElementById('mysql_query'),
						update=document.getElementById('mysql_update'),
						del=document.getElementById('mysql_delete'),
						closedb=document.getElementById('mysql_close'),
						doquery=document.getElementById('doquery'),
						doupdate=document.getElementById('doupdate'),
						tip=document.getElementById('ftip'),
						show=document.getElementById('msshow');
						
						
				//打开数据库
				opendb.onclick=function(){
						<?php
						  ms_Open();
            ?>
				};
				
				//创建数据库
				db.onclick=function(){
						<?php 
						  ms_db();
						?>
				
				};
				
				//创建数据表
				table.onclick=function(){

				
				};
				
				//查询表
				query.onclick=function(){

				
				};
				
				//更新表
				update.onclick=function(){
					
				};
				
				//删除表
				del.onclick=function(){
					
				};
				
				//关闭数据库
				closedb.onclick=function(){
						<?php 
						  ms_Close();
					  ?>
				};
				
				
			}());
  </script>
</body>










